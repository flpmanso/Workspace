package persistence;

import java.sql.Connection;
import java.sql.Date;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import entities.Aluno;

public class AlunoDAO {
	
//	private static String path = "E:\\Manso\\Pessoal\\Facul\\Desenv Cliente-Servidor\\Aula07\\PessoaFisica.csv";
//	private static String pathSaida = "E:\\Manso\\Pessoal\\Facul\\Desenv Cliente-Servidor\\Aula07\\PessoaFisica2.csv";
//	
//	
//	public static String getPath() {
//		return path;
//	}
//	public static String getPathSaida() {
//		return pathSaida;
//	}
	
	
	public void inserir(Connection conn) {
		
		String sqlInsert = "INSERT INTO aluno(matricula, nome, dataNascimento) VALUES (?, ?, ?)";
		
		PreparedStatement declara = null;
		try {
			declara = conn.prepareStatement(sqlInsert);
			
			declara.setInt(1, Aluno.getMatricula());
			declara.setString(2, Aluno.getNome());
			declara.setDate(3, (Date) Aluno.getData());
			declara.execute();
			
		}catch (Exception e) {
			e.printStackTrace();
		}finally {
			if(declara != null) {
				try {
					declara.close();
				}catch (SQLException e1) {
					System.out.println(e1.getStackTrace());
				}
			}
		}
	}
	
//	public void buscar(Connection conn) {
//		
//		String sqlSelect = "SELECT nome, valor FROM produto WHERE produto.id = ?";
//		
//		PreparedStatement declara = null;
//		ResultSet resultado = null; //manipula resultados da query
//		
//		try {
//			this.setNome(null);
//			this.setValor(0);
//			declara = conn.prepareStatement(sqlSelect);
//			declara.setInt(1, getIdProduto());
//			
//			resultado = declara.executeQuery();
//			
//			while(resultado.next()) {
//				this.setNome(resultado.getString(1));
//				this.setValor(resultado.getDouble(2));
//				
//				
//			}
//		}catch (Exception e) {
//			e.printStackTrace();
//			System.out.println("excecao");
//			
//			try {
//                conn.rollback();
//            } catch (SQLException e1) {
//                System.out.print(e1.getStackTrace());
//            }
//		}finally {
//			if(declara != null) {
//				try {
//					declara.close();
//				}catch(SQLException e1) {
//					System.out.println(e1.getStackTrace());
//				}
//			}
//		}
	
//	public static List<PessoaFisica> percorrerArquivo() {
//		
//		String path  = "E:\\Manso\\Pessoal\\Facul\\Desenv Cliente-Servidor\\Aula07\\PessoaFisica.csv";
//		List<PessoaFisica> lista = new ArrayList<>();
//		
//	try (BufferedReader lerPath = new BufferedReader(new FileReader(path))) {
//
//		String linha = lerPath.readLine();
//		linha = lerPath.readLine();
//
//		while (linha != null) {
//
//			String[] campos = linha.split(";");
//
//			int id = Integer.parseInt(campos[0]);
//			String cpf = campos[1];
//			String nomeCompleto = campos[2];
//			String cidade = campos[3];
//			String estado = campos[4];
//			String status = campos[5];
//			String telefoneCelular = (campos[6]);
//			String telefoneContato = "";
//			String telefoneComercial = "";
//			if (campos.length == 8) {
//				telefoneContato = (campos[7]);
//			} else if (campos.length == 9) {
//				telefoneContato = (campos[7]);
//				telefoneComercial = (campos[8]);
//			}
//
//			lista.add(new PessoaFisica(id, cpf, nomeCompleto, cidade, estado, status, telefoneCelular,
//					telefoneContato, telefoneComercial));
//
//			linha = lerPath.readLine();
//
//		}
////		Collections.sort(lista);
//		
//		
//
//	} catch (IOException e) {
//		System.out.println("Erro na abertura/fechamento do arquivo: " + e.getMessage());
//	}
//	return lista;
//}
//
//	
//	public static void escreverArquivo(int id, String cpf, String nome, String cidade, String estado, String status, String telefone1, String telefone2, String telefone3) {
//
//		String pathSaida = "E:\\Manso\\Pessoal\\Facul\\Desenv Cliente-Servidor\\Aula07\\PessoaFisica2.csv";
//				
//		try (BufferedWriter escreverPath = new BufferedWriter(new FileWriter(pathSaida, true))) {
//
//			
//				escreverPath.write(id + ";" + cpf + ";" + nome + ";" + cidade + ";" + estado + ";" + status + ";" + telefone1 + ";" + telefone2 + ";" + telefone2 + ";");
//				escreverPath.newLine();
//
//			
//
//		} catch (IOException e) {
//			System.out.println("Erro na abertura/fechamento do arquivo: " + e.getMessage());
//		}
//		
//	}
//	
}
